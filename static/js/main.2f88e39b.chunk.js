(this["webpackJsonptodos-react-qerry"]=this["webpackJsonptodos-react-qerry"]||[]).push([[0],{112:function(n,t,e){"use strict";e.r(t);var r,i,o,a,c,s,u,d,p,l=e(1),b=e.n(l),j=e(29),x=e.n(j),f=(e(68),e(17)),g=e.n(f),h=e(19),O=e(8),m=e(9),v=m.a.form(r||(r=Object(O.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 600px;\n  padding: 16px;\n  margin: 0 auto;\n"]))),y=m.a.textarea(i||(i=Object(O.a)(["\n  font: inherit;\n  width: 100%;\n  margin-bottom: 16px;\n  padding: 8px;\n  resize: none;\n"]))),w=m.a.button(o||(o=Object(O.a)(["\n  width: 100%;\n  padding: 8px 12px;\n  margin: 0;\n  border: none;\n  border-radius: 4px;\n  background-color: #1890ff;\n  color: #fff;\n  font: inherit;\n  cursor: pointer;\n  &:hover {\n    background-color: #096dd9;\n  }\n\n  &:disabled {\n    background-color: #8c8c8c;\n    pointer-events: none;\n  }\n"]))),k=e(16),C=e.n(k),T=e(21),F=e(13),L=function(){var n=Object(T.a)(C.a.mark((function n(t){var e;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g.a.post("/todos",{content:t});case 2:return e=n.sent,n.abrupt("return",e.data);case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),Q=e(4),S=function(){var n=function(){var n=Object(F.useQueryClient)(),t=Object(F.useMutation)(L,{onSuccess:function(){n.invalidateQueries("/todos"),h.b.success("Todo created!")}});return{createTodo:t.mutateAsync,isCreating:t.isLoading}}(),t=n.createTodo,e=n.isCreating;return Object(Q.jsxs)(v,{onSubmit:function(n){n.preventDefault(),t(n.currentTarget.elements.content.value),n.currentTarget.reset()},children:[Object(Q.jsx)(y,{name:"content",rows:"3",autoFocus:!0}),Object(Q.jsx)(w,{type:"submit",disabled:e,children:"Create todo"})]})},D=e(52),M=e(54),z=e(53),A=m.a.button(a||(a=Object(O.a)(["\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  width: 32px;\n  height: 32px;\n  padding: 0;\n  margin: 0;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  background-color: transparent;\n  color: #1890ff;\n  &:hover {\n    background-color: #d9d9d9;\n  }\n"]))),B=Object(m.a)((function(n){var t=n.spinner;return Object(Q.jsx)(z.a,{size:"24",className:t})}))(c||(c=Object(O.a)(["\n  animation: spin infinite 500ms linear;\n  @keyframes spin {\n    0% {\n      transform: rotate(0);\n    }\n\n    100% {\n      transform: rotate(1turn);\n    }\n  }\n"]))),I=function(n){var t=n.icon,e=n.onClick,r=void 0===e?function(){return null}:e,i=n.loading,o=void 0!==i&&i;return Object(Q.jsx)(A,{type:"button",onClick:r,disabled:o,children:o?Object(Q.jsx)(B,{}):Object(Q.jsx)(t,{size:"16"})})},P=m.a.div(s||(s=Object(O.a)(["\n  display: grid;\n  grid-auto-flow: column;\n  align-items: center;\n  justify-content: space-between;\n  gap: 16px;\n  padding: 4px 12px;\n  box-shadow: rgb(0 0 0 / 20%) 0px 2px 1px -1px,\n    rgb(0 0 0 / 14%) 0px 1px 1px 0px, rgb(0 0 0 / 12%) 0px 1px 3px 0px;\n"]))),q=m.a.p(u||(u=Object(O.a)(["\n  margin: 0;\n  line-height: 1.5;\n"]))),J=function(){var n=Object(T.a)(C.a.mark((function n(t){var e;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g.a.delete("/todos/".concat(t));case 2:return e=n.sent,n.abrupt("return",e.data);case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),R=function(n){var t=n.id,e=n.content,r=function(n){var t=Object(F.useQueryClient)(),e=Object(F.useMutation)(J,{onSuccess:function(){t.invalidateQueries("/todos"),h.b.error("Todo deleted!")}});return{deleteTodo:e.mutateAsync,isDeleting:e.isLoading}}(),i=r.deleteTodo,o=r.isDeleting;return Object(Q.jsxs)(P,{children:[Object(Q.jsx)(q,{children:e}),Object(Q.jsx)(I,{icon:M.a,loading:o,onClick:function(){return i(t)}})]})},E=m.a.li(d||(d=Object(O.a)(["\n  max-width: 1170px;\n  margin: 0 auto;\n  padding: 0 16px;\n  margin-top: 16px;\n  display: grid;\n  justify-content: center;\n  grid-template-columns: repeat(auto-fit, minmax(300px, max-content));\n  gap: 24px;\n"]))),N=function(n){var t=n.todos;return Object(Q.jsx)(E,{children:t.map((function(n){return Object(Q.jsx)(R,Object(D.a)({},n),n.id)}))})},U=e(55),G=e.n(U),H=m.a.div(p||(p=Object(O.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 500px;\n"]))),K=function(){return Object(Q.jsx)(H,{children:Object(Q.jsx)(G.a,{type:"TailSpin",color:"#00BFFF",height:80,width:80})})},V=function(){var n=Object(T.a)(C.a.mark((function n(){var t;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g.a.get("/todos");case 2:return t=n.sent,n.abrupt("return",t.data);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();g.a.defaults.baseURL="https://6182c42302f60a001775ceca.mockapi.io/mockapi/";var W=function(){var n=function(){var n=Object(F.useQuery)("/todos",V,{onSuccess:function(){r||h.b.success("Todos loaded!")}}),t=n.data,e=n.isLoading,r=n.isFetchedAfterMount;return{todos:t,isLoading:e}}(),t=n.todos,e=n.isLoading;return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(S,{}),e&&Object(Q.jsx)(K,{}),!e&&t&&Object(Q.jsx)(N,{todos:t}),Object(Q.jsx)(h.a,{position:"top-right"})]})},X=e(56),Y=new F.QueryClient,Z=function(n){var t=n.children;return Object(Q.jsxs)(F.QueryClientProvider,{client:Y,children:[t,Object(Q.jsx)(X.ReactQueryDevtools,{initialIsOpen:!0})]})},$=function(n){n&&n instanceof Function&&e.e(3).then(e.bind(null,115)).then((function(t){var e=t.getCLS,r=t.getFID,i=t.getFCP,o=t.getLCP,a=t.getTTFB;e(n),r(n),i(n),o(n),a(n)}))};x.a.render(Object(Q.jsx)(b.a.StrictMode,{children:Object(Q.jsx)(Z,{children:Object(Q.jsx)(W,{})})}),document.getElementById("root")),$()},68:function(n,t,e){}},[[112,1,2]]]);
//# sourceMappingURL=main.2f88e39b.chunk.js.map